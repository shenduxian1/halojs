define("jsonp",function(require,exports,module){var _jsonp=function(arg){var script,hasLoaded,typeErr,isTimeout,charset,parameter,i,callback,url,abort,o;if("[object Object]"!=Object.prototype.toString.call(arg))throw"jsonp: arguments parseerror!";if(script=document.createElement("script"),hasLoaded=!1,typeErr=!0,isTimeout=!1,charset=arg.charset,script.type="text/javascript",charset&&(script.charset=charset),script.onload=function(){if(!isTimeout){hasLoaded=!0;try{document.head.removeChild(script)}catch(a){}setTimeout(function(){typeErr&&abort("parseerror")},100)}},parameter="_="+(new Date).getTime(),"object"==typeof arg.data)for(i in arg.data)parameter+="&"+i+"="+arg.data[i];return arg.jsonp="string"==typeof arg.jsonp?arg.jsonp:"callback",arg.jsonpCallback="string"==typeof arg.jsonpCallback?arg.jsonpCallback:"HALO_"+ ++jr+(new Date).getTime(),parameter+="&"+arg.jsonp+"="+arg.jsonpCallback,"function"!=typeof arg.callback&&(arg.callback=function(){}),callback=function(a){isTimeout||(typeErr=!1,arg.callback(a))},eval(arg.jsonpCallback+"=callback;"),url=arg.url,url+=(url.indexOf("?")<0?"?":"&")+parameter,script.src=url,abort=function(err){err=err||"abort",eval(arg.jsonpCallback+'("'+err+'");');try{document.head.removeChild(script)}catch(e){}},timeout=parseInt(arg.timeout),isNaN(timeout)||setTimeout(function(){hasLoaded||abort("timeout"),isTimeout=!0},timeout),document.head.appendChild(script),o={},o.abort=abort,o},jr=0;module.exports=_jsonp});